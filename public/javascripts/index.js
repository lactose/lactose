// Generated by CoffeeScript 1.6.2
(function() {
  var replaceContent;

  replaceContent = function(options) {
    var settings;

    settings = {
      success: function(result) {
        var $newContent;

        $newContent = $(result).find('section').hide();
        return $('section').hide('slide', {
          direction: 'left'
        }, 'swing', function() {
          $(this).replaceWith($newContent);
          $newContent.show('slide', {
            direction: 'right',
            'swing': 'swing'
          });
          return Linc.run('.widgets', {
            context: $newContent
          });
        });
      }
    };
    settings = $.extend(options, settings);
    return $.ajax(settings);
  };

  Linc.add('clickBindings.widgets', function() {
    return $('.ajax').on('click', function(e) {
      var settings, url;

      e.preventDefault();
      url = $(this).attr('href');
      settings = {
        url: url,
        dataType: 'html'
      };
      return replaceContent(settings);
    });
  });

}).call(this);
